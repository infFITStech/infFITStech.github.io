import{j as A,z as R,X as j,l as I,m as M,$ as o,o as D,g as F,d as e,q as k,x as C,e as f,T as B,N as K,Y,Z as P,O as q,P as z}from"./index-be38bd07.js";import"./bootstrap.min-75e5318b.js";const Z="/0425/assets/inffits_f_black-a0e71d6c.png";const i=u=>(q("data-v-68d80916"),u=u(),z(),u),Q={class:"body"},X=i(()=>e("div",{class:"preloader",id:"loader"},[e("img",{src:Z}),e("div",{class:"cssload-speeding-wheel"})],-1)),G={class:"splash-container",style:{position:"relative"}},H={class:"card"},J=K('<div class="card-header text-center" data-v-68d80916><div data-v-68d80916><img class="logo-img" src="https://myinffits.com/images/infFITS_Logo_2019_web.png" width="125px" alt="logo" data-v-68d80916><div style="padding:8px;cursor:pointer;color:darkgray;position:absolute;right:0;top:0;" id="langswitch" data-v-68d80916><span data-v-68d80916>English</span> <i class="fa fa-angle-down" data-v-68d80916></i></div></div><span class="splash-description" data-v-68d80916><span class="lang-en" data-v-68d80916>Log in to infFITS Admin</span><span class="lang-tw" data-v-68d80916>登入 infFITS Admin</span></span></div>',1),W={class:"card-body"},oo=i(()=>e("div",{class:"form-group"},[e("input",{class:"form-control form-control-lg",id:"emailInput",type:"text",placeholder:"Email",autocomplete:"off",style:{display:"none"}})],-1)),eo={class:"form-group"},to={class:"form-group"},no=i(()=>e("div",{class:"form-group"},[e("input",{class:"form-control form-control-lg",id:"confirmPasswordInput",type:"password",placeholder:"Password",style:{display:"none"}})],-1)),so=i(()=>e("br",null,null,-1)),io={class:"form-group",id:"Verification",style:{display:"none"}},ao=i(()=>e("input",{class:"form-control form-control-lg",id:"verificationCodeInput",type:"text",placeholder:"Verification Code"},null,-1)),lo=i(()=>e("br",null,null,-1)),ro=i(()=>e("div",{class:"form-group",id:"logintext"},"請確認帳號密碼，再試一次。",-1)),co=["onClick","onTouchend"],uo=i(()=>e("span",{class:"lang-en"},"Log in",-1)),po=i(()=>e("span",{class:"lang-tw"},"登入",-1)),fo=[uo,po],ho={style:{"margin-top":"16px","text-align":"center"}},go={class:"lang-en"},mo={class:"lang-tw"},vo={class:"card-footer bg-white p-0",id:"backtoLogin",style:{"text-align":"center",display:"none"}},wo=i(()=>e("div",{href:"#",class:"footer-link"},"Back to Login",-1)),_o=[wo],yo=i(()=>e("div",{class:"footer",style:{position:"absolute",left:"0",bottom:"0",background:"transparent"}},[e("div",{class:"col-md-7"},[e("p",null,[e("a",{style:{color:"gray","font-weight":"400",cursor:"pointer"},href:"https://www.inffits.com/Privacy.html"},[e("span",null,"隱私權聲明")]),f("  |  "),e("a",{style:{color:"gray","font-weight":"400",cursor:"pointer"},href:"https://www.inffits.com/Terms.html"},[e("span",null,"使用條款")])])])],-1)),bo={__name:"LoginView",setup(u){const c=R(),{userPool:w,getcurrentloggedinsession:x}=j(),r=I(""),p=I("");function S(){o("#emailInput").hide(),o("#userNameInput").hide(),o("#passwordInput").hide(),o("#confirmPasswordInput").hide(),o("#logInButton").hide(),o("#registerButton").hide(),o("#bucketNameInput").hide(),o("#verificationCodeInput").show(),o("#verifyCodeButton").show(),o("#listS3ObjectsButton").hide(),o("#logOutButton").hide(),o("#createAccount").hide(),o("#Verification").show()}function V(){o("#emailInput").show(),o("#userNameInput").show(),o("#passwordInput").show(),o("#confirmPasswordInput").show(),o("#logInButton").hide(),o("#registerButton").show(),o("#verificationCodeInput").hide(),o("#verifyCodeButton").hide(),o("#listS3ObjectsButton").hide(),o("#bucketNameInput").hide(),o("#logOutButton").hide(),o("#backtoLogin").show(),o("#createAccount").hide()}function _(){o("#userNameInput").val(""),o("#passwordInput").val(""),o("#emailInput").hide(),o("#userNameInput").show(),o("#passwordInput").show(),o("#confirmPasswordInput").hide(),o("#logInButton").show(),o("#registerButton").show(),o("#verificationCodeInput").hide(),o("#verifyCodeButton").hide(),o("#listS3ObjectsButton").hide(),o("#bucketNameInput").hide(),o("#logOutButton").hide(),o("#registerButton").hide(),o("#createAccount").show(),o("#backtoLogin").hide()}function a(n){return console.log(n),!0}function h(){o("#loader").show(),!r.value||!p.value?(a("Please enter Username and Password!"),o("#logintext").show(),o("#loader").hide()):c.login(r.value,p.value)}function g(n){n=n||window.event,n.keyCode==13&&h()}function T(){V(),N();var n={Username:r.value,Pool:w};c.cognitoUser=new Y(n),!o("#emailInput").val()||!r.value||!o("#passwordInput").val()||!o("#confirmPasswordInput").val()?a("Please fill all the fields!"):o("#passwordInput").val()==o("#confirmPasswordInput").val()?L(o("#emailInput").val(),r.value,o("#passwordInput").val()):a("Confirm password failed!")}function U(){o("#verificationCodeInput").val()?(o("#loader").show(),c.cognitoUser.confirmRegistration(o("#verificationCodeInput").val(),!0,function(n,t){n?a(n.message):(console.log(t),a("Successfully verified code!"),_()),o("#loader").hide()})):a("Please enter verification field!")}function L(n,t,s){var d=[],m={Name:"email",Value:n},v={Name:"name",Value:t},O=new P(m),E=new P(v);d.push(O),d.push(E),console.log(d),o("#loader").show(),w.signUp(t,s,d,null,function(b,$){b?a(b.message):(c.cognitoUser=$.user,a("Registration Successful!"),a("Username is: "+c.cognitoUser.getUsername()),a("Please enter the verification code sent to your Email."),S()),o("#loader").hide()})}function N(){o("#loader").show(),x()==0&&(o("#loader").hide(),window.location.href.includes("Login.html")||(o("#loader").show(),window.location.href="Login.html"))}M(()=>{o("#langswitch").on("click",function(){var n=o("#langswitch").find("span")[0].innerText;n=="繁體中文"?o("#langswitch").find("span")[0].innerText="English":o("#langswitch").find("span")[0].innerText="繁體中文",o(".lang-en").toggle(),o(".lang-tw").toggle()}),o(".form-control").on("propertychange input",function(){o("#logintext").hide()}),o(function(){o("#loader").hide(),Object.prototype.hasOwnProperty.call(l(document.location.href),"referral")&&l(document.location.href).referral=="admin"?console.log(Object.prototype.hasOwnProperty.call(l(document.location.href),"referral")):Object.prototype.hasOwnProperty.call(l(document.location.href),"platform")&&(l(document.location.href).platform=="EASYSTORE"?document.location.href="Register_form_easystore.html":l(document.location.href).platform=="CYBERBIZ"&&(document.location.href="Register_form_cyberbiz.html"))})});function l(n){const t=n.split("?")[1],s={};return t&&t.split("&").forEach(d=>{const[m,v]=d.split("=");s[m]=decodeURIComponent(v)}),s}function y(){window.location.href.includes("?")&&"platform"in l(document.location.href)?window.location.href="signup?platform="+l(document.location.href).platform:window.location.href="/#/signup"}return(n,t)=>(D(),F("div",Q,[X,e("div",G,[e("div",H,[J,e("div",W,[e("form",null,[oo,e("div",eo,[k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),class:"form-control form-control-lg",id:"userNameInput",type:"text",placeholder:"Username",autocomplete:"off",onKeypress:t[1]||(t[1]=s=>g(n.event))},null,544),[[C,r.value]])]),e("div",to,[k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),class:"form-control form-control-lg",id:"passwordInput",type:"password",placeholder:"Password",onKeypress:t[3]||(t[3]=s=>g(n.event))},null,544),[[C,p.value]])]),no,e("div",{type:"submit",id:"registerButton",onClick:t[4]||(t[4]=s=>T()),class:"btn btn-primary btn-lg btn-block",style:{display:"none"}},"註冊"),so,e("div",io,[ao,f(),lo,e("input",{class:"btn btn-primary btn-lg btn-block",id:"verifyCodeButton",type:"button",value:"Verify",onClick:t[5]||(t[5]=s=>U())})]),ro,e("div",{id:"logInButton",onKeypress:t[6]||(t[6]=s=>g(n.event)),onClick:B(h,["prevent","stop"]),onTouchend:B(h,["prevent","stop"]),class:"btn btn-primary btn-lg btn-block"},fo,40,co),e("div",ho,[e("span",go,[f("Don't have an account? "),e("a",{style:{color:"black","font-weight":"500",cursor:"pointer"},onClick:t[7]||(t[7]=s=>y()),target:"_blank"},"Sign Up")]),e("span",mo,[f("尚未擁有登入資訊? "),e("a",{style:{color:"black","font-weight":"500",cursor:"pointer"},onClick:t[8]||(t[8]=s=>y()),target:"_blank"},"申請服務")])])]),e("div",vo,[e("div",{class:"card-footer-item card-footer-item-bordered",onClick:t[9]||(t[9]=s=>_())},_o)])])])]),yo]))}},Co=A(bo,[["__scopeId","data-v-68d80916"]]);export{Co as default};

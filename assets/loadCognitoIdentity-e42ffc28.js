import{c3 as F,c4 as M,c5 as g,c6 as j,c7 as T,c8 as r,c9 as z,ca as d,cb as D,cc as _,cd as B,ce as J,cf as R,cg as $,ch as P,ci as v}from"./index-be38bd07.js";import{cj as me}from"./index-be38bd07.js";const L=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=F(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},i=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(n=>n!=null).map(i);if(typeof e=="object"){const n={};for(const t of Object.keys(e))e[t]!=null&&(n[t]=i(e[t]));return n}return e};class c extends M{constructor(n){super(n),Object.setPrototypeOf(this,c.prototype)}}class y extends c{constructor(n){super({name:"InternalErrorException",$fault:"server",...n}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,y.prototype)}}class m extends c{constructor(n){super({name:"InvalidParameterException",$fault:"client",...n}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class x extends c{constructor(n){super({name:"LimitExceededException",$fault:"client",...n}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,x.prototype)}}class u extends c{constructor(n){super({name:"NotAuthorizedException",$fault:"client",...n}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class f extends c{constructor(n){super({name:"ResourceConflictException",$fault:"client",...n}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,f.prototype)}}class E extends c{constructor(n){super({name:"TooManyRequestsException",$fault:"client",...n}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,E.prototype)}}class h extends c{constructor(n){super({name:"ResourceNotFoundException",$fault:"client",...n}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class w extends c{constructor(n){super({name:"ExternalServiceException",$fault:"client",...n}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,w.prototype)}}class b extends c{constructor(n){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...n}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,b.prototype)}}class I extends c{constructor(n){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...n}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,I.prototype)}}class C extends c{constructor(n){super({name:"ConcurrentModificationException",$fault:"client",...n}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,C.prototype)}}const U=async(e,n)=>{const t=O("GetCredentialsForIdentity");let o;return o=JSON.stringify(i(e)),N(n,t,"/",void 0,o)},k=async(e,n)=>{const t=O("GetId");let o;return o=JSON.stringify(i(e)),N(n,t,"/",void 0,o)},W=async(e,n)=>{if(e.statusCode>=300)return S(e,n);const t=await g(e.body,n);let o={};return o=ce(t),{$metadata:a(e),...o}},H=async(e,n)=>{if(e.statusCode>=300)return S(e,n);const t=await g(e.body,n);let o={};return o=i(t),{$metadata:a(e),...o}},S=async(e,n)=>{const t={...e,body:await j(e.body,n)},o=T(e,t.body);switch(o){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Z(t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await ee(t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await te(t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ne(t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await se(t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await oe(t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await V(t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Y(t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Q(t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await K(t);default:const s=t.body;return ae({output:e,parsedBody:s,errorCode:o})}},K=async(e,n)=>{const t=e.body,o=i(t),s=new C({$metadata:a(e),...o});return r(s,t)},Q=async(e,n)=>{const t=e.body,o=i(t),s=new I({$metadata:a(e),...o});return r(s,t)},V=async(e,n)=>{const t=e.body,o=i(t),s=new w({$metadata:a(e),...o});return r(s,t)},X=async(e,n)=>{const t=e.body,o=i(t),s=new y({$metadata:a(e),...o});return r(s,t)},Y=async(e,n)=>{const t=e.body,o=i(t),s=new b({$metadata:a(e),...o});return r(s,t)},Z=async(e,n)=>{const t=e.body,o=i(t),s=new m({$metadata:a(e),...o});return r(s,t)},ee=async(e,n)=>{const t=e.body,o=i(t),s=new x({$metadata:a(e),...o});return r(s,t)},te=async(e,n)=>{const t=e.body,o=i(t),s=new u({$metadata:a(e),...o});return r(s,t)},ne=async(e,n)=>{const t=e.body,o=i(t),s=new f({$metadata:a(e),...o});return r(s,t)},oe=async(e,n)=>{const t=e.body,o=i(t),s=new h({$metadata:a(e),...o});return r(s,t)},se=async(e,n)=>{const t=e.body,o=i(t),s=new E({$metadata:a(e),...o});return r(s,t)},ie=(e,n)=>z(e,{AccessKeyId:d,Expiration:t=>B(L(J(t))),SecretKey:d,SessionToken:d}),ce=(e,n)=>z(e,{Credentials:t=>ie(t),IdentityId:d}),a=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),ae=D(c),N=async(e,n,t,o,s)=>{const{hostname:A,protocol:G="https",port:q,path:l}=await e.endpoint(),p={protocol:G,hostname:A,port:q,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:n};return o!==void 0&&(p.hostname=o),s!==void 0&&(p.body=s),new _(p)};function O(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class de extends R.classBuilder().ep({...$}).m(function(n,t,o,s){return[P(o,this.serialize,this.deserialize),v(o,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(U).de(W).build(){}class le extends R.classBuilder().ep({...$}).m(function(n,t,o,s){return[P(o,this.serialize,this.deserialize),v(o,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(k).de(H).build(){}export{me as CognitoIdentityClient,de as GetCredentialsForIdentityCommand,le as GetIdCommand};
